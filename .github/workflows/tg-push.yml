name: Push Alert

on: [push]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - run: |
          curl -s -X POST "https://api.telegram.org/bot${{ secrets.TG_BOT_TOKEN }}/sendMessage" \
          -d chat_id=${{ secrets.TG_CHAT_ID }} \
          -d message_thread_id=$TG_TOPIC_ID \
          -d parse_mode=Markdown \
          -d text=$'ðŸš€ *Code landed*\n\nðŸ‘¤ By: *${{ github.actor }}*\nðŸ“¦ `${{ github.repository }}`\nðŸŒ¿ Branch: `${{ github.ref_name }}`\n\nðŸ’¬ Commit: ${{ github.event.head_commit.message }}\nðŸ”— `${{ github.sha }}`\n\nðŸ”— [View commit](${{ github.event.head_commit.url }})\n\nâœ¨ Fresh changes just hit the repo.'


env:
  TG_BOT_TOKEN: ${{ secrets.TG_BOT_TOKEN }}
  TG_CHAT_ID: ${{ secrets.TG_CHAT_ID }}
  TG_TOPIC_ID: ${{ secrets.TG_TOPIC_ID }}
